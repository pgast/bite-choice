(window.webpackJsonp=window.webpackJsonp||[]).push([[1,2],{385:function(e,t,n){},386:function(e,t,n){"use strict";function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",function(){return a})},387:function(e,t,n){},388:function(e,t,n){"use strict";n.r(t);var v=n(0),E=n.n(v),b=n(386),a=n(30),_=n.n(a),k=n(63),w=n(52),y=(n(385),n(387),E.a.memo(function(e){var t=e.item,n=e.removeItem;return E.a.createElement("div",{className:"listItem"},E.a.createElement("div",null,E.a.createElement("p",null,t.name),E.a.createElement("p",null,t.categories[0].hasOwnProperty("title")?t.categories[0].title:"")),E.a.createElement("div",{className:"listItem__btnRow"},E.a.createElement("a",{className:"listItem__btn",href:t.url,target:"_blank",rel:"noopener noreferrer"},"Info"),E.a.createElement("div",{className:"listItem__btn listItem__btn--delete",onClick:function(){return n()}},"Delete")))})),N=E.a.lazy(function(){return n.e(4).then(n.bind(null,393))}),O=E.a.lazy(function(){return n.e(5).then(n.bind(null,394))});function x(e){var t=[];if(e.length<=3)t.push(0,2);else if(0!==e.length)for(;t.length<3;){var n=Math.floor(Math.random()*Math.floor(e.length));t.includes(n)||t.push(n)}return t}function j(t){return x(t).map(function(e){return t[e]})}function i(e){var t=e.data,l=e.randomSorting,n=e.isCustom,a=e.toggleUi,s=e.customSearchTerms,r=Object(v.useState)([{name:"Fetching",categories:[{title:""}]}]),c=Object(w.a)(r,2),i=c[0],o=c[1],u=Object(v.useState)([]),m=Object(w.a)(u,2),f=m[0],h=m[1];Object(v.useEffect)(function(){(n?g:p)(t)},[t,h]);var g=function(){var t=Object(k.a)(_.a.mark(function e(t){var n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:n=e.sent,0===s.searchTerms.length?p(n):1===s.searchTerms.length?p(n[0]):d(n);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(k.a)(_.a.mark(function e(t){var n,a,r,c;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(n=e.sent,a=[],!l){e.next=10;break}r=[],n.forEach(function(e){r=[].concat(Object(b.a)(r),Object(b.a)(e))}),p(r),e.next=26;break;case 10:if(!(a.length<3)){e.next=24;break}if(n.every(function(e){return 0===e.length}))return e.abrupt("break",24);e.next=14;break;case 14:c=0;case 15:if(!(c<n.length)){e.next=22;break}if(0!==n[c].length&&a.push(n[c].shift()),3===a.length)return e.abrupt("break",22);e.next=19;break;case 19:c++,e.next=15;break;case 22:e.next=10;break;case 24:h(n),o(a);case 26:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(k.a)(_.a.mark(function e(t){var n,a,r,c;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(n=e.sent,a=[],500===n&&(a=[{name:500,categories:[{title:""}]}]),"error"==n||void 0===n)a=[{name:"Error",categories:[{title:""}]}];else if(n.length<3&&0!==n.length)a=n;else if(3<n.length)for(a=l?j(n):[n[0],n[1],n[2]],r=0;r<a.length;r++)-1<(c=n.indexOf(a[r]))&&n.splice(c,1);h(n),o(a);case 8:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}();return E.a.createElement("div",{className:n?"resultList resultList--custom":"resultList"},1<i.length&&E.a.createElement(E.a.Fragment,null,i.map(function(e,t){return E.a.createElement(y,{key:t,item:e,removeItem:function(){return function(n){var t,e=i.filter(function(e,t){return n!==t}),a=f;if(l)t=a[x(a)[0]],a=a.filter(function(e){return t.name!==e.name});else if(1<s.searchTerms.length){for(var r=void 0;void 0===r;){if(a.every(function(e){return 0===e.length}))break;var c=Math.floor(Math.random()*Math.floor(a.length));0!==a[c].length&&(r=a[c].shift())}t=r}else t=a.shift();void 0!==t&&e.push(t),h(a),o(e)}(t)}})})),i.length<1&&E.a.createElement("div",{className:"resultList__fetching"},E.a.createElement("i",{className:"fas fa-utensils"}),E.a.createElement("h1",null,"Fetching places...")),1===i.length&&("Error"===i[0].name||500===i[0].name)&&E.a.createElement(O,{error:i[0].name}),1===i.length&&"Error"!==i[0].name&&"Fetching"!==i[0].name&&500!==i[0].name&&E.a.createElement(N,{item:i[0],toggleUi:a}))}function o(e){var t=e.toggleUi,n=e.location,a=e.isCustom,r=e.toggleCustomForm,c=e.customSearchData;return E.a.createElement("div",{className:a?"resultHeader resultHeader--custom":"resultHeader"},!a&&E.a.createElement(E.a.Fragment,null,E.a.createElement("i",{className:"fas fa-chevron-left",onClick:function(){return t()}}),E.a.createElement("div",{className:"resultHeader__title"},E.a.createElement("h4",null,"Eating in"),E.a.createElement("h3",null,n))),a&&E.a.createElement(E.a.Fragment,null,E.a.createElement("i",{className:"fas fa-chevron-left",onClick:function(){return r()}}),E.a.createElement("div",{className:"resultHeader__title"},E.a.createElement("h4",null,"Eating in"),E.a.createElement("h3",null,n)),E.a.createElement("div",{className:"resultHeader--custom__searchTerms"},c.searchTerms.map(function(e,t){return E.a.createElement("div",{key:t,className:"resultHeader--custom__searchTerms__searchItem"},E.a.createElement("p",null,e))})),E.a.createElement("div",{className:"resultHeader--custom__sortDisplay"},E.a.createElement("p",null,"Sorted by"),E.a.createElement("p",null,c.sortBy))))}t.default=function(e){var t=e.data,n=e.toggleUi,a=e.isCustom,r=e.location,c=e.randomSorting,l=e.customSearchData,s=e.toggleCustomForm;return E.a.createElement("div",{className:"resultView"},E.a.createElement(o,{toggleUi:n,isCustom:a,location:r,customSearchData:l,toggleCustomForm:s}),E.a.createElement(i,{data:t,toggleUi:n,isCustom:a,randomSorting:c,customSearchTerms:l}),E.a.createElement("div",{className:"resultView__watermark"},E.a.createElement("a",{href:"http://www.github.com/pgast"},"</> pgast")))}},392:function(e,t,n){"use strict";n.r(t);var l=n(0),s=n.n(l),i=n(388),o=n(37);t.default=function(e){var t=e.location,n=e.toggleUi,a=e.data,r=Object(l.useContext)(o.a).dispatch;Object(l.useEffect)(function(){return c()},[]);var c=function(){return r({type:"FETCH_RANDOM_DATA",payload:t})};return s.a.createElement(i.default,{data:a,randomSorting:!0,isCustom:!1,toggleUi:n,location:t})}}}]);