(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{385:function(e,t,a){},387:function(e,t,a){},388:function(e,t,a){"use strict";a.r(t);function i(e){var t=e.data,c=e.randomSorting,a=e.isCustom,n=e.toggleUi,s=e.customSearchTerms,r=Object(b.useState)([{name:"Fetching",categories:[{title:""}]}]),l=Object(x.a)(r,2),i=l[0],u=l[1],o=Object(b.useState)([]),m=Object(x.a)(o,2),f=m[0],h=m[1];function g(e){var t=[];if(e.length<=3)t.push(0,2);else if(0!==e.length)for(;t.length<3;){var a=Math.floor(Math.random()*Math.floor(e.length));t.includes(a)||t.push(a)}return t}function d(t){return g(t).map(function(e){return t[e]})}Object(b.useEffect)(function(){(a?v:p)(t)},[t,h]);var v=function(){var t=Object(N.a)(w.a.mark(function e(t){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:a=e.sent,0===s.searchTerms.length?p(a):1===s.searchTerms.length?p(a[0]):E(a);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=Object(N.a)(w.a.mark(function e(t){var a,n,r,l;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(a=e.sent,n=[],!c){e.next=10;break}r=[],a.forEach(function(e){r=[].concat(Object(k.a)(r),Object(k.a)(e))}),p(r),e.next=26;break;case 10:if(!(n.length<3)){e.next=24;break}if(a.every(function(e){return 0===e.length}))return e.abrupt("break",24);e.next=14;break;case 14:l=0;case 15:if(!(l<a.length)){e.next=22;break}if(0!==a[l].length&&n.push(a[l].shift()),3===n.length)return e.abrupt("break",22);e.next=19;break;case 19:l++,e.next=15;break;case 22:e.next=10;break;case 24:h(a),u(n);case 26:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(N.a)(w.a.mark(function e(t){var a,n,r,l;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(a=e.sent,n=[],500===a&&(n=[{name:500,categories:[{title:""}]}]),"error"==a||void 0===a)n=[{name:"Error",categories:[{title:""}]}];else if(a.length<3&&0!==a.length)n=a;else if(3<a.length)for(n=c?d(a):[a[0],a[1],a[2]],r=0;r<n.length;r++)-1<(l=a.indexOf(n[r]))&&a.splice(l,1);h(a),u(n);case 8:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}();return _.a.createElement("div",{className:a?"resultList resultList--custom":"resultList"},1<i.length&&_.a.createElement(_.a.Fragment,null,i.map(function(e,t){return _.a.createElement(y,{key:t,item:e,removeItem:function(){return function(a){var t,e=i.filter(function(e,t){return a!==t}),n=f;if(c)t=n[g(n)[0]],n=n.filter(function(e){return t.name!==e.name});else if(1<s.searchTerms.length){for(var r=void 0;void 0===r;){if(n.every(function(e){return 0===e.length}))break;var l=Math.floor(Math.random()*Math.floor(n.length));0!==n[l].length&&(r=n[l].shift())}t=r}else t=n.shift();void 0!==t&&e.push(t),h(n),u(e)}(t)}})})),i.length<1&&_.a.createElement("div",{className:"resultList__fetching"},_.a.createElement("i",{className:"fas fa-utensils"}),_.a.createElement("h1",null,"Fetching places...")),1===i.length&&("Error"===i[0].name||500===i[0].name)&&_.a.createElement(C,{error:i[0].name}),1===i.length&&"Error"!==i[0].name&&"Fetching"!==i[0].name&&500!==i[0].name&&_.a.createElement(O,{item:i[0],toggleUi:n}))}function u(e){var t=e.toggleUi,a=e.location,n=e.isCustom,r=e.toggleCustomForm,l=e.customSearchData;return _.a.createElement("div",{className:n?"resultHeader resultHeader--custom":"resultHeader"},!n&&_.a.createElement(_.a.Fragment,null,_.a.createElement("i",{className:"fas fa-chevron-left",onClick:function(){return t()}}),_.a.createElement("div",{className:"resultHeader__title"},_.a.createElement("h4",null,"Eating in"),_.a.createElement("h3",null,a))),n&&_.a.createElement(_.a.Fragment,null,_.a.createElement("i",{className:"fas fa-chevron-left",onClick:function(){return r()}}),_.a.createElement("div",{className:"resultHeader__title"},_.a.createElement("h4",null,"Eating in"),_.a.createElement("h3",null,a)),_.a.createElement("div",{className:"resultHeader--custom__searchTerms"},l.searchTerms.map(function(e,t){return _.a.createElement("div",{key:t,className:"resultHeader--custom__searchTerms__searchItem"},_.a.createElement("p",null,e))})),_.a.createElement("div",{className:"resultHeader--custom__sortDisplay"},_.a.createElement("p",null,"Sorted by"),_.a.createElement("p",null,l.sortBy))))}var b=a(0),_=a.n(b),k=a(386),n=a(30),w=a.n(n),N=a(63),x=a(52),y=(a(385),a(387),_.a.memo(function(e){var t=e.item,a=e.removeItem;return _.a.createElement("div",{className:"listItem"},_.a.createElement("div",null,_.a.createElement("p",null,t.name),_.a.createElement("p",null,t.categories[0].hasOwnProperty("title")?t.categories[0].title:"")),_.a.createElement("div",{className:"listItem__btnRow"},_.a.createElement("a",{className:"listItem__btn",href:t.url,target:"_blank",rel:"noopener noreferrer"},"Info"),_.a.createElement("div",{className:"listItem__btn listItem__btn--delete",onClick:function(){return a()}},"Delete")))})),O=_.a.lazy(function(){return a.e(4).then(a.bind(null,393))}),C=_.a.lazy(function(){return a.e(5).then(a.bind(null,394))});t.default=function(e){var t=e.data,a=e.toggleUi,n=e.isCustom,r=e.location,l=e.randomSorting,c=e.customSearchData,s=e.toggleCustomForm;return _.a.createElement("div",{className:"resultView"},_.a.createElement(u,{toggleUi:a,isCustom:n,location:r,customSearchData:c,toggleCustomForm:s}),_.a.createElement(i,{data:t,toggleUi:a,isCustom:n,randomSorting:l,customSearchTerms:c}),_.a.createElement("div",{className:"resultView__watermark"},_.a.createElement("a",{href:"http://www.github.com/pgast"},"</> pgast")))}}}]);