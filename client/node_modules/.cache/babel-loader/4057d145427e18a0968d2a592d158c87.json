{"ast":null,"code":"import _toConsumableArray from \"/Users/Pablo/Documents/React/bitechoice/v1/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/Pablo/Documents/React/bitechoice/v1/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Pablo/Documents/React/bitechoice/v1/client/src/components/CustomForm.js\";\nimport React, { useState, useContext } from 'react';\nimport { Store } from '../Store'; // updates state with pertaining custom search info\n// when user clicks submit, action is dispatched to fetch data from store\n// searchTerms, sort by info is updated into state\n// data is fetched\n\nvar customForm = function customForm() {\n  var _useContext = useContext(Store),\n      state = _useContext.state,\n      dispatch = _useContext.dispatch;\n\n  var _useState = useState(state.customView.searchTerms),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchTerms = _useState2[0],\n      setSearchTerms = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      currentTerm = _useState4[0],\n      setCurrentTerm = _useState4[1];\n\n  var _useState5 = useState(state.customView.sortBy),\n      _useState6 = _slicedToArray(_useState5, 2),\n      sortBy = _useState6[0],\n      setSortBy = _useState6[1];\n\n  var submitSearchTerms = function submitSearchTerms(e) {\n    e.preventDefault();\n    var payload = {\n      sortBy: sortBy,\n      searchTerms: searchTerms\n    };\n    return dispatch({\n      type: 'SUBMIT_SEARCH',\n      payload: payload\n    });\n  };\n\n  var addTerm = function addTerm(e) {\n    if (currentTerm !== '') {\n      if (searchTerms.length < 3) {\n        var newTerms = _toConsumableArray(searchTerms);\n\n        newTerms.push(currentTerm);\n        setSearchTerms(newTerms);\n        setCurrentTerm('');\n      }\n    }\n  };\n\n  var removeTerm = function removeTerm(inputIndex) {\n    var newSearchTerms = _toConsumableArray(searchTerms).filter(function (el, inx) {\n      return inx !== inputIndex;\n    });\n\n    setSearchTerms(newSearchTerms);\n  };\n\n  var handleSorting = function handleSorting(input) {\n    if (input === 'random') {\n      var criteria = ['best_match', 'rating', 'review_count', 'distance'];\n      var index = Math.floor(Math.random() * Math.floor(criteria.length));\n      setSortBy(criteria[index]);\n    } else {\n      setSortBy(input);\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Custom Form\"), React.createElement(\"form\", {\n    onSubmit: function onSubmit(e) {\n      return submitSearchTerms(e);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Name:\", React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Type Search Term\",\n    value: currentTerm,\n    onChange: function onChange(e) {\n      return setCurrentTerm(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: function onClick(e) {\n      return addTerm(e);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Add term\")), searchTerms.map(function (el, index) {\n    return React.createElement(\"p\", {\n      key: index,\n      onClick: function onClick() {\n        return removeTerm(index);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, el);\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Sort by:\", React.createElement(\"select\", {\n    value: sortBy,\n    onChange: function onChange(e) {\n      return handleSorting(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"best_match\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Best Match\"), React.createElement(\"option\", {\n    value: \"rating\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Rating\"), React.createElement(\"option\", {\n    value: \"review_count\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Review Count\"), React.createElement(\"option\", {\n    value: \"distance\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Distance\"), React.createElement(\"option\", {\n    value: \"random\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Random\"))), React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  })));\n};\n\nexport default customForm;","map":{"version":3,"sources":["/Users/Pablo/Documents/React/bitechoice/v1/client/src/components/CustomForm.js"],"names":["React","useState","useContext","Store","customForm","state","dispatch","customView","searchTerms","setSearchTerms","currentTerm","setCurrentTerm","sortBy","setSortBy","submitSearchTerms","e","preventDefault","payload","type","addTerm","length","newTerms","push","removeTerm","inputIndex","newSearchTerms","filter","el","inx","handleSorting","input","criteria","index","Math","floor","random","target","value","map"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { Store } from '../Store';\n\n// updates state with pertaining custom search info\n  // when user clicks submit, action is dispatched to fetch data from store\n  // searchTerms, sort by info is updated into state\n  // data is fetched\n\n\nconst customForm = () => {\n  const { state, dispatch } = useContext(Store);\n  const [searchTerms, setSearchTerms] = useState(state.customView.searchTerms);\n  const [currentTerm, setCurrentTerm] = useState(\"\");\n  const [sortBy, setSortBy] = useState(state.customView.sortBy);\n\n  const submitSearchTerms = (e) => {\n    e.preventDefault();\n    let payload = { sortBy, searchTerms };\n    return dispatch ({\n      type: 'SUBMIT_SEARCH',\n      payload\n    });\n  };\n\n  const addTerm = (e) => {\n    if (currentTerm !== '') {\n      if (searchTerms.length < 3) {\n        let newTerms = [...searchTerms];\n        newTerms.push(currentTerm);\n        setSearchTerms(newTerms);\n        setCurrentTerm('');\n      }\n    }\n  };\n\n  const removeTerm = (inputIndex) => {\n    let newSearchTerms = [...searchTerms].filter((el, inx) => inx !== inputIndex);\n    setSearchTerms(newSearchTerms);\n  };\n\n  const handleSorting = (input) => {\n    if (input === 'random') {\n      let criteria = ['best_match', 'rating', 'review_count', 'distance'];\n      let index = Math.floor(Math.random() * Math.floor(criteria.length));\n      setSortBy(criteria[index]);\n    } else {\n      setSortBy(input);\n    }\n  };\n\n  return (\n    <div>\n      <h1>Custom Form</h1>\n\n      <form onSubmit={(e) => submitSearchTerms(e)}>\n          <label>\n            Name:\n            <input \n              type=\"text\" \n              placeholder=\"Type Search Term\"\n              value={currentTerm}\n              onChange={(e) => setCurrentTerm(e.target.value)} \n            />\n            <button onClick={(e) => addTerm(e)}>Add term</button>\n          </label>\n\n          {\n            searchTerms.map((el, index) => {\n              return <p key={index} onClick={() => removeTerm(index)}>{el}</p>\n            })\n          }\n\n          <label>\n            Sort by:\n            <select value={sortBy} onChange={(e) => handleSorting(e.target.value)} >\n              <option value=\"best_match\">Best Match</option>\n              <option value=\"rating\">Rating</option>\n              <option value=\"review_count\">Review Count</option>\n              <option value=\"distance\">Distance</option>\n              <option value=\"random\">Random</option>\n            </select>\n          </label>\n\n          <input type=\"submit\" value=\"Submit\" />\n        </form>\n    </div>\n  );\n};\n\nexport default customForm;"]},"metadata":{},"sourceType":"module"}