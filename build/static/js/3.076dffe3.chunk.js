(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{458:function(e,t,a){"use strict";function w(e){var t=e.error;return y.a.createElement(x.a,{pad:"large",width:"100%",height:"100%",align:"center",justify:"center",background:"status-error"},y.a.createElement(r.a,{size:"xlarge"}),y.a.createElement(F.a,{color:"light-1"},"Oops.."),y.a.createElement(i.a,{textAlign:"center",weight:"bold"},"Error"===t?"There was an error fetching the information. This might be due to:":"Unable to fetch data due to problems with the server. Please try again later."),"Error"===t&&y.a.createElement("ul",null,y.a.createElement("li",null,y.a.createElement(i.a,null,"Typos in your search terms")),y.a.createElement("li",null,y.a.createElement(i.a,null,"Your internet connection")),y.a.createElement("li",null,y.a.createElement(i.a,null,"No businesses available")),y.a.createElement("li",null,y.a.createElement(i.a,null,"Wrong location input"))))}function k(e){var t=e.item,a=e.toggleUi;return y.a.createElement(x.a,{width:"100%",height:"100%",align:"center",background:"accent-4",pad:{left:"large",right:"large"}},y.a.createElement(x.a,{height:"85%",width:"100%",align:"center",justify:"around"},y.a.createElement(x.a,{height:"20%",justify:"end"},y.a.createElement(F.a,{level:"3",size:"medium",color:"dark-1",textAlign:"center"},"Your last option is")),y.a.createElement(x.a,{height:"80%",width:"100%",pad:{bottom:"medium"}},y.a.createElement(x.a,{height:"50%",justify:"end",align:"center"},y.a.createElement(F.a,{level:"2",size:"medium",color:"dark-1",textAlign:"center"},t.name)),y.a.createElement(x.a,{align:"start",justify:"center",margin:{bottom:"large"}},y.a.createElement(i.a,{weight:"bold",color:"dark-1",alignSelf:"center"},t.categories[0].title),y.a.createElement(i.a,{alignSelf:"center"},t.location.address1)),y.a.createElement(x.a,{pad:"small",width:"66px",round:"large",justify:"center",alignSelf:"center",background:{color:"dark-1",opacity:"weak"}},y.a.createElement(c.a,{primary:!0,label:"Info",size:"small",color:"dark-1",target:"_blank",href:t.url,alignSelf:"center"})))),y.a.createElement(x.a,{height:"15%",justify:"center",margin:{bottom:"medium"}},y.a.createElement(l.a,{primary:!0,color:"dark-1",label:"Try again",onClick:a})))}function o(e){var t=e.data,i=e.randomSorting,a=e.isCustom,n=e.toggleUi,c=e.customSearchTerms,r=Object(v.useState)([{name:"Fetching",categories:[{title:""}]}]),l=Object(z.a)(r,2),o=l[0],m=l[1],s=Object(v.useState)([]),g=Object(z.a)(s,2),u=g[0],h=g[1];function d(e){var t=[];if(e.length<=3)t.push(0,2);else if(0!==e.length)for(;t.length<3;){var a=Math.floor(Math.random()*Math.floor(e.length));t.includes(a)||t.push(a)}return t}function f(t){return d(t).map(function(e){return t[e]})}Object(v.useEffect)(function(){(a?E:b)(t)},[t,h]);var E=function(){var t=Object(C.a)(S.a.mark(function e(t){var a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:a=e.sent,0===c.searchTerms.length?b(a):1===c.searchTerms.length?b(a[0]):p(a);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(C.a)(S.a.mark(function e(t){var a,n,r,l;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(a=e.sent,n=[],!i){e.next=10;break}r=[],a.forEach(function(e){r=[].concat(Object(j.a)(r),Object(j.a)(e))}),b(r),e.next=26;break;case 10:if(!(n.length<3)){e.next=24;break}if(a.every(function(e){return 0===e.length}))return e.abrupt("break",24);e.next=14;break;case 14:l=0;case 15:if(!(l<a.length)){e.next=22;break}if(0!==a[l].length&&n.push(a[l].shift()),3===n.length)return e.abrupt("break",22);e.next=19;break;case 19:l++,e.next=15;break;case 22:e.next=10;break;case 24:h(a),m(n);case 26:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(C.a)(S.a.mark(function e(t){var a,n,r,l;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(a=e.sent,n=[],500===a&&(n=[{name:500,categories:[{title:""}]}]),"error"==a||void 0===a)n=[{name:"Error",categories:[{title:""}]}];else if(a.length<3&&0!==a.length)n=a;else if(3<a.length)for(n=i?f(a):[a[0],a[1],a[2]],r=0;r<n.length;r++)-1<(l=a.indexOf(n[r]))&&a.splice(l,1);h(a),m(n);case 8:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}();return y.a.createElement(x.a,{height:a?"75%":"85%",align:"center",justify:"evenly"},1<o.length&&y.a.createElement(y.a.Fragment,null,o.map(function(e,t){return y.a.createElement(T,{key:t,item:e,removeItem:function(){return function(a){var t,e=o.filter(function(e,t){return a!==t}),n=u;if(i)t=n[d(n)[0]],n=n.filter(function(e){return t.name!==e.name});else if(1<c.searchTerms.length){for(var r=void 0;void 0===r;){if(n.every(function(e){return 0===e.length}))break;var l=Math.floor(Math.random()*Math.floor(n.length));0!==n[l].length&&(r=n[l].shift())}t=r}else t=n.shift();void 0!==t&&e.push(t),h(n),m(e)}(t)}})})),o.length<1&&y.a.createElement(x.a,{width:"100%",height:"100%",align:"center",justify:"center",background:"status-warning"},y.a.createElement(O.a,{size:"xlarge",color:"light-1"}),y.a.createElement(F.a,{color:"light-1"},"Fetching places...")),1===o.length&&("Error"===o[0].name||500===o[0].name)&&y.a.createElement(w,{error:o[0].name}),1===o.length&&"Error"!==o[0].name&&"Fetching"!==o[0].name&&500!==o[0].name&&y.a.createElement(k,{item:o[0],toggleUi:n}))}function m(e){var t=e.toggleUi,a=e.location,n=e.isCustom,r=e.toggleCustomForm,l=e.customSearchData;return y.a.createElement(y.a.Fragment,null,!n&&y.a.createElement(x.a,{height:"15%",align:"center",direction:"row",justify:"around",background:"light-1",alignContent:"center",pad:{left:"small",right:"small"}},y.a.createElement(x.a,{width:"20%"},y.a.createElement(c.a,{size:"small",color:"dark-1",onClick:t,icon:y.a.createElement(s.a,null),margin:{top:"4px"}})),y.a.createElement(x.a,{width:"60%",align:"center"},y.a.createElement(i.a,{size:"small",weight:"bold"},"Eating in"),y.a.createElement(i.a,{size:"large",weight:"bold",textAlign:"center",alignSelf:"center",color:"status-warning"},a)),y.a.createElement(x.a,{width:"20%"})),n&&y.a.createElement(x.a,{height:"25%",align:"center",justify:"around",background:"light-1",alignContent:"center",pad:{left:"small",right:"small"}},y.a.createElement(x.a,{width:"100%",height:"50%",align:"center",direction:"row"},y.a.createElement(x.a,{width:"20%"},y.a.createElement(c.a,{size:"small",color:"dark-1",icon:y.a.createElement(s.a,null),margin:{top:"4px"},onClick:function(){return r()}})),y.a.createElement(x.a,{width:"60%",align:"center"},y.a.createElement(i.a,{size:"small",weight:"bold"},"Eating in"),y.a.createElement(i.a,{size:"large",weight:"bold",color:"status-warning"},a)),y.a.createElement(x.a,{width:"20%"})),y.a.createElement(x.a,{height:"60%",width:"100%"},y.a.createElement(x.a,{gap:"small",align:"end",height:"50%",direction:"row",justify:"center"},l.searchTerms.map(function(e,t){return y.a.createElement(x.a,{pad:{left:"small",top:"xsmall",right:"small",bottom:"xsmall"},background:"light-3",round:"xlarge",key:t},y.a.createElement(i.a,{textAlign:"center",weight:"bold",size:"xsmall"},e))})),y.a.createElement(x.a,{align:"end",width:"100%",height:"40%",direction:"row",justify:"center"},y.a.createElement(i.a,{size:"small",weight:"bold"},"Sorted by"),y.a.createElement(i.a,{size:"small",weight:"bold",color:"status-warning",margin:{left:"xsmall"}},l.sortBy)))))}var v=a(0),y=a.n(v),x=a(214),j=a(457),n=a(38),S=a.n(n),C=a(75),z=a(65),O=a(462),F=a(454),r=a(461),i=a(455),c=a(456),l=a(453),T=y.a.memo(function(e){var t=e.item,a=e.removeItem;return y.a.createElement(x.a,{pad:"small",height:"27%",round:"small",width:"260px",align:"center",justify:"around",background:"accent-4"},y.a.createElement(x.a,null,y.a.createElement(i.a,{weight:"bold",textAlign:"center",margin:{bottom:"xsmall"}},t.name),y.a.createElement(x.a,{gap:"medium",width:"100%",direction:"row",justify:"center"},y.a.createElement(i.a,{size:"small"},t.categories[0].hasOwnProperty("title")?t.categories[0].title:""))),y.a.createElement(x.a,{gap:"large",width:"100%",direction:"row",justify:"center"},y.a.createElement(x.a,{pad:"small",width:"66px",round:"large",background:{color:"dark-1",opacity:"weak"}},y.a.createElement(c.a,{primary:!0,label:"Info",size:"small",color:"dark-1",target:"_blank",href:t.url,alignSelf:"center"})),y.a.createElement(x.a,{pad:"small",width:"66px",round:"large",background:{color:"status-warning",opacity:"strong"}},y.a.createElement(c.a,{size:"small",label:"Delete",color:"dark-1",alignSelf:"center",onClick:function(){return a()}}))))}),s=a(450);t.a=function(e){var t=e.data,a=e.toggleUi,n=e.isCustom,r=e.location,l=e.randomSorting,i=e.customSearchData,c=e.toggleCustomForm;return y.a.createElement(x.a,{height:"100vh"},y.a.createElement(m,{toggleUi:a,isCustom:n,location:r,customSearchData:i,toggleCustomForm:c}),y.a.createElement(o,{data:t,toggleUi:a,isCustom:n,randomSorting:l,customSearchTerms:i}),y.a.createElement(x.a,{height:"8%",justify:"center"},y.a.createElement("div",{style:{opacity:.2,fontSize:15,fontWeight:"bold",textAlign:"center",alignItems:"center"}},y.a.createElement("a",{style:{textDecoration:"none"},href:"http://www.github.com/pgast"},"</> pgast"))))}},472:function(e,t,a){"use strict";a.r(t);var p=a(0),b=a.n(p),i=a(458),w=a(457),k=a(65),v=a(450),y=a(468),x=a(214),j=a(456),S=a(455),C=a(447),z=a(471),O=a(470),F=a(452),T=a(453),U=a(454),A=a(45),c=b.a.memo(function(e){var t=e.toggleUi,a=e.customView,n=e.location,r=Object(p.useContext)(A.a).dispatch,l=Object(p.useState)(""),i=Object(k.a)(l,2),c=i[0],o=i[1],m=Object(p.useState)(a.sortBy),s=Object(k.a)(m,2),g=s[0],u=s[1],h=Object(p.useState)(a.searchTerms),d=Object(k.a)(h,2),f=d[0],E=d[1];return b.a.createElement(x.a,{height:"100vh",width:"100%",animation:"fadeIn"},b.a.createElement(x.a,{direction:"row",height:"15%",align:"center"},b.a.createElement(x.a,{width:"20%"},b.a.createElement(j.a,{size:"small",color:"dark-1",icon:b.a.createElement(v.a,null),margin:{top:"4px"},onClick:function(){return t("landing")}})),b.a.createElement(x.a,{width:"60%",align:"center",justify:"center"},b.a.createElement(S.a,{size:"large",weight:"bold",color:"status-warning"},"Custom Search"))),b.a.createElement(x.a,{height:"69%",width:"260px",align:"center",alignSelf:"center"},b.a.createElement(x.a,{justify:"center",width:"100%"},b.a.createElement(C.a.Extend,{value:{formField:{label:{margin:{horizontal:"none",vertical:"small"}},border:{color:"#ffffff"}},select:{icons:{color:"status-warning"},background:"light-2"}}},b.a.createElement(z.a,{label:"Sort by"},b.a.createElement(O.a,{plain:!0,size:"medium",value:g,alignSelf:"center",onChange:function(e){var t=e.option;return u(t)},options:["Best Match","Rating","Random"]})))),b.a.createElement(x.a,{justify:"center",width:"100%",margin:{top:"22px"}},b.a.createElement(C.a.Extend,{value:{formField:{label:{margin:{horizontal:"none",vertical:"none"}}}}},b.a.createElement(z.a,{label:"Search for:"},b.a.createElement(F.a,{size:"small",value:c,placeholder:"e.g. Pizza, Tacos, Bar",onChange:function(e){return o(e.target.value)}}))),b.a.createElement(T.a,{alignSelf:"center",color:"status-warning",onClick:function(){return function(){if(""!==c&&f.length<3){var e=Object(w.a)(f);e.push(c),E(e),o("")}}()},primary:3===f.length,disabled:3===f.length,label:3===f.length?"Click on terms to delete":"Add"})),b.a.createElement(x.a,{width:"100%",height:"50%",align:"center",justify:"evenly",pad:{top:"small",bottom:"small"}},f.map(function(e,t){return b.a.createElement(x.a,{key:t,round:"xlarge",direction:"row",background:"light-2",onClick:function(){return a=t,e=Object(w.a)(f).filter(function(e,t){return t!==a}),void E(e);var a,e},pad:{top:"xsmall",bottom:"xsmall",left:"small",right:"small"}},b.a.createElement(S.a,{textAlign:"center",weight:"bold",margin:{right:"small"}},e),b.a.createElement(y.a,{color:"status-warning"}))}))),b.a.createElement(x.a,{height:"16%",align:"center",justify:"center",background:"status-warning",onClick:function(e){return e.preventDefault(),r({type:"SUBMIT_SEARCH",payload:{sortBy:g,searchTerms:f,location:n}})}},b.a.createElement(U.a,{level:"3",size:"small"},"FIND ME PLACES")))});t.default=b.a.memo(function(e){var t=e.data,a=e.location,n=e.toggleUi,r=e.customView,l=e.toggleCustomForm;return b.a.createElement(b.a.Fragment,null,r.resultsMode?b.a.createElement(i.a,{isCustom:!0,data:t,toggleUi:n,location:a,customSearchData:r,toggleCustomForm:l,randomSorting:"random"===r.sortBy}):b.a.createElement(c,{location:a,toggleUi:n,customView:r}))})}}]);