"use strict";(self.webpackChunkbitechoice=self.webpackChunkbitechoice||[]).push([[731],{3731:function(e,t,r){r.r(t),r.d(t,{default:function(){return g}});var n=r(7313),s=r(2982),a=r(4165),i=r(5861),c=r(885),l=r(6417),o=function(e){var t=e.item,r=e.removeItem;return(0,l.jsxs)("div",{className:"listItem",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:t.name}),(0,l.jsx)("p",{children:t.categories[0].hasOwnProperty("title")?t.categories[0].title:""})]}),(0,l.jsxs)("div",{className:"listItem__btnRow",children:[(0,l.jsx)("a",{className:"listItem__btn",href:t.url,target:"_blank",rel:"noopener noreferrer",children:"Info"}),(0,l.jsx)("div",{className:"listItem__btn listItem__btn--delete",onClick:function(){return r()},children:"Delete"})]})]})},u=n.memo(o),h=n.lazy((function(){return r.e(841).then(r.bind(r,1841))})),m=n.lazy((function(){return r.e(371).then(r.bind(r,1371))})),f=function(e){var t=e.data,r=e.randomSorting,o=e.isCustom,f=e.toggleUi,d=e.customSearchTerms,g=(0,n.useState)([{name:"Fetching",categories:[{title:""}]}]),x=(0,c.Z)(g,2),v=x[0],p=x[1],j=(0,n.useState)([]),b=(0,c.Z)(j,2),_=b[0],k=b[1];(0,n.useEffect)((function(){o?C(t):y(t)}),[t,k]);var N=function(e){var t=[];if(e.length<=3)t.push(0,2);else if(0!==e.length)for(;t.length<3;){var r=Math.floor(Math.random()*Math.floor(e.length));t.includes(r)||t.push(r)}return t},w=function(e){return N(e).map((function(t){return e[t]}))},C=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:r=e.sent,0===d.searchTerms.length?y(r):1===d.searchTerms.length?y(r[0]):Z(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,i,c,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(n=e.sent,i=[],!r){e.next=10;break}c=[],n.forEach((function(e){c=[].concat((0,s.Z)(c),(0,s.Z)(e))})),y(c),e.next=26;break;case 10:if(!(i.length<3)){e.next=24;break}if(!n.every((function(e){return 0===e.length}))){e.next=14;break}return e.abrupt("break",24);case 14:l=0;case 15:if(!(l<n.length)){e.next=22;break}if(0!==n[l].length&&i.push(n[l].shift()),3!==i.length){e.next=19;break}return e.abrupt("break",22);case 19:l++,e.next=15;break;case 22:e.next=10;break;case 24:k(n),p(i);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,s,i,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(n=e.sent,s=[],500===n&&(s=[{name:500,categories:[{title:""}]}]),"error"==n||void 0===n)s=[{name:"Error",categories:[{title:""}]}];else if(n.length<3&&0!==n.length)s=n;else if(n.length>3)for(s=r?w(n):[n[0],n[1],n[2]],i=0;i<s.length;i++)(c=n.indexOf(s[i]))>-1&&n.splice(c,1);k(n),p(s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,l.jsxs)("div",{className:o?"resultList resultList--custom":"resultList",children:[v.length>1&&(0,l.jsx)(l.Fragment,{children:v.map((function(e,t){return(0,l.jsx)(u,{item:e,removeItem:function(){return function(e){var t,n=v.filter((function(t,r){return e!==r})),s=_;if(r)t=s[N(s)[0]],s=s.filter((function(e){return t.name!==e.name}));else if(d.searchTerms.length>1){for(var a=void 0;void 0===a&&!s.every((function(e){return 0===e.length}));){var i=Math.floor(Math.random()*Math.floor(s.length));0!==s[i].length&&(a=s[i].shift())}t=a}else t=s.shift();void 0!==t&&n.push(t),k(s),p(n)}(t)}},t)}))}),v.length<1&&(0,l.jsxs)("div",{className:"resultList__fetching",children:[(0,l.jsx)("i",{className:"fas fa-utensils"}),(0,l.jsx)("h1",{children:"Fetching places..."})]}),1===v.length&&("Error"===v[0].name||500===v[0].name)&&(0,l.jsx)(m,{error:v[0].name}),1===v.length&&"Error"!==v[0].name&&"Fetching"!==v[0].name&&500!==v[0].name&&(0,l.jsx)(h,{item:v[0],toggleUi:f})]})},d=function(e){var t=e.toggleUi,r=e.location,n=e.isCustom,s=e.toggleCustomForm,a=e.customSearchData;return(0,l.jsxs)("div",{className:n?"resultHeader resultHeader--custom":"resultHeader",children:[!n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("i",{className:"fas fa-chevron-left",onClick:function(){return t()}}),(0,l.jsxs)("div",{className:"resultHeader__title",children:[(0,l.jsx)("h4",{children:"Eating in"}),(0,l.jsx)("h3",{children:r})]})]}),n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("i",{className:"fas fa-chevron-left",onClick:function(){return s()}}),(0,l.jsxs)("div",{className:"resultHeader__title",children:[(0,l.jsx)("h4",{children:"Eating in"}),(0,l.jsx)("h3",{children:r})]}),(0,l.jsx)("div",{className:"resultHeader--custom__searchTerms",children:a.searchTerms.map((function(e,t){return(0,l.jsx)("div",{className:"resultHeader--custom__searchTerms__searchItem",children:(0,l.jsx)("p",{children:e})},t)}))}),(0,l.jsxs)("div",{className:"resultHeader--custom__sortDisplay",children:[(0,l.jsx)("p",{children:"Sorted by"}),(0,l.jsx)("p",{children:a.sortBy})]})]})]})},g=function(e){var t=e.data,r=e.toggleUi,n=e.isCustom,s=e.location,a=e.randomSorting,i=e.customSearchData,c=e.toggleCustomForm;return(0,l.jsxs)("div",{className:"resultView",children:[(0,l.jsx)(d,{toggleUi:r,isCustom:n,location:s,customSearchData:i,toggleCustomForm:c}),(0,l.jsx)(f,{data:t,toggleUi:r,isCustom:n,randomSorting:a,customSearchTerms:i}),(0,l.jsx)("div",{className:"resultView__watermark",children:(0,l.jsx)("a",{href:"http://www.github.com/pgast",children:"</> pgast"})})]})}}}]);