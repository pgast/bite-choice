(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{457:function(e,t,a){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.d(t,"a",function(){return n})},458:function(e,t,a){"use strict";function w(e){var t=e.error;return k.a.createElement(x.a,{pad:"large",width:"100%",height:"100%",align:"center",justify:"center",background:"status-error"},k.a.createElement(r.a,{size:"xlarge"}),k.a.createElement(L.a,{color:"light-1"},"Oops.."),k.a.createElement(i.a,{textAlign:"center",weight:"bold"},"Error"===t?"There was an error fetching the information. This might be due to:":"Unable to fetch data due to problems with the server. Please try again later."),"Error"===t&&k.a.createElement("ul",null,k.a.createElement("li",null,k.a.createElement(i.a,null,"Typos in your search terms")),k.a.createElement("li",null,k.a.createElement(i.a,null,"Your internet connection")),k.a.createElement("li",null,k.a.createElement(i.a,null,"No businesses available")),k.a.createElement("li",null,k.a.createElement(i.a,null,"Wrong location input"))))}function y(e){var t=e.item,a=e.toggleUi;return k.a.createElement(x.a,{width:"100%",height:"100%",align:"center",background:"accent-4",pad:{left:"large",right:"large"}},k.a.createElement(x.a,{height:"85%",width:"100%",align:"center",justify:"around"},k.a.createElement(x.a,{height:"20%",justify:"end"},k.a.createElement(L.a,{level:"3",size:"medium",color:"dark-1",textAlign:"center"},"Your last option is")),k.a.createElement(x.a,{height:"80%",width:"100%",pad:{bottom:"medium"}},k.a.createElement(x.a,{height:"50%",justify:"end",align:"center"},k.a.createElement(L.a,{level:"2",size:"medium",color:"dark-1",textAlign:"center"},t.name)),k.a.createElement(x.a,{align:"start",justify:"center",margin:{bottom:"large"}},k.a.createElement(i.a,{weight:"bold",color:"dark-1",alignSelf:"center"},t.categories[0].title),k.a.createElement(i.a,{alignSelf:"center"},t.location.address1)),k.a.createElement(x.a,{pad:"small",width:"66px",round:"large",justify:"center",alignSelf:"center",background:{color:"dark-1",opacity:"weak"}},k.a.createElement(c.a,{primary:!0,label:"Info",size:"small",color:"dark-1",target:"_blank",href:t.url,alignSelf:"center"})))),k.a.createElement(x.a,{height:"15%",justify:"center",margin:{bottom:"medium"}},k.a.createElement(l.a,{primary:!0,color:"dark-1",label:"Try again",onClick:a})))}function o(e){var t=e.data,i=e.randomSorting,a=e.isCustom,n=e.toggleUi,c=e.customSearchTerms,r=Object(v.useState)([{name:"Fetching",categories:[{title:""}]}]),l=Object(S.a)(r,2),o=l[0],s=l[1],u=Object(v.useState)([]),m=Object(S.a)(u,2),g=m[0],h=m[1];function f(e){var t=[];if(e.length<=3)t.push(0,2);else if(0!==e.length)for(;t.length<3;){var a=Math.floor(Math.random()*Math.floor(e.length));t.includes(a)||t.push(a)}return t}function d(t){return f(t).map(function(e){return t[e]})}Object(v.useEffect)(function(){(a?E:b)(t)},[t,h]);var E=function(){var t=Object(O.a)(C.a.mark(function e(t){var a;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:a=e.sent,0===c.searchTerms.length?b(a):1===c.searchTerms.length?b(a[0]):p(a);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(O.a)(C.a.mark(function e(t){var a,n,r,l;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(a=e.sent,n=[],!i){e.next=10;break}r=[],a.forEach(function(e){r=[].concat(Object(j.a)(r),Object(j.a)(e))}),b(r),e.next=26;break;case 10:if(!(n.length<3)){e.next=24;break}if(a.every(function(e){return 0===e.length}))return e.abrupt("break",24);e.next=14;break;case 14:l=0;case 15:if(!(l<a.length)){e.next=22;break}if(0!==a[l].length&&n.push(a[l].shift()),3===n.length)return e.abrupt("break",22);e.next=19;break;case 19:l++,e.next=15;break;case 22:e.next=10;break;case 24:h(a),s(n);case 26:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(O.a)(C.a.mark(function e(t){var a,n,r,l;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(a=e.sent,n=[],500===a&&(n=[{name:500,categories:[{title:""}]}]),"error"==a||void 0===a)n=[{name:"Error",categories:[{title:""}]}];else if(a.length<3&&0!==a.length)n=a;else if(3<a.length)for(n=i?d(a):[a[0],a[1],a[2]],r=0;r<n.length;r++)-1<(l=a.indexOf(n[r]))&&a.splice(l,1);h(a),s(n);case 8:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}();return k.a.createElement(x.a,{height:a?"75%":"85%",align:"center",justify:"evenly"},1<o.length&&k.a.createElement(k.a.Fragment,null,o.map(function(e,t){return k.a.createElement(A,{key:t,item:e,removeItem:function(){return function(a){var t,e=o.filter(function(e,t){return a!==t}),n=g;if(i)t=n[f(n)[0]],n=n.filter(function(e){return t.name!==e.name});else if(1<c.searchTerms.length){for(var r=void 0;void 0===r;){if(n.every(function(e){return 0===e.length}))break;var l=Math.floor(Math.random()*Math.floor(n.length));0!==n[l].length&&(r=n[l].shift())}t=r}else t=n.shift();void 0!==t&&e.push(t),h(n),s(e)}(t)}})})),o.length<1&&k.a.createElement(x.a,{width:"100%",height:"100%",align:"center",justify:"center",background:"status-warning"},k.a.createElement(z.a,{size:"xlarge",color:"light-1"}),k.a.createElement(L.a,{color:"light-1"},"Fetching places...")),1===o.length&&("Error"===o[0].name||500===o[0].name)&&k.a.createElement(w,{error:o[0].name}),1===o.length&&"Error"!==o[0].name&&"Fetching"!==o[0].name&&500!==o[0].name&&k.a.createElement(y,{item:o[0],toggleUi:n}))}function s(e){var t=e.toggleUi,a=e.location,n=e.isCustom,r=e.toggleCustomForm,l=e.customSearchData;return k.a.createElement(k.a.Fragment,null,!n&&k.a.createElement(x.a,{height:"15%",align:"center",direction:"row",justify:"around",background:"light-1",alignContent:"center",pad:{left:"small",right:"small"}},k.a.createElement(x.a,{width:"20%"},k.a.createElement(c.a,{size:"small",color:"dark-1",onClick:t,icon:k.a.createElement(u.a,null),margin:{top:"4px"}})),k.a.createElement(x.a,{width:"60%",align:"center"},k.a.createElement(i.a,{size:"small",weight:"bold"},"Eating in"),k.a.createElement(i.a,{size:"large",weight:"bold",textAlign:"center",alignSelf:"center",color:"status-warning"},a)),k.a.createElement(x.a,{width:"20%"})),n&&k.a.createElement(x.a,{height:"25%",align:"center",justify:"around",background:"light-1",alignContent:"center",pad:{left:"small",right:"small"}},k.a.createElement(x.a,{width:"100%",height:"50%",align:"center",direction:"row"},k.a.createElement(x.a,{width:"20%"},k.a.createElement(c.a,{size:"small",color:"dark-1",icon:k.a.createElement(u.a,null),margin:{top:"4px"},onClick:function(){return r()}})),k.a.createElement(x.a,{width:"60%",align:"center"},k.a.createElement(i.a,{size:"small",weight:"bold"},"Eating in"),k.a.createElement(i.a,{size:"large",weight:"bold",color:"status-warning"},a)),k.a.createElement(x.a,{width:"20%"})),k.a.createElement(x.a,{height:"60%",width:"100%"},k.a.createElement(x.a,{gap:"small",align:"end",height:"50%",direction:"row",justify:"center"},l.searchTerms.map(function(e,t){return k.a.createElement(x.a,{pad:{left:"small",top:"xsmall",right:"small",bottom:"xsmall"},background:"light-3",round:"xlarge",key:t},k.a.createElement(i.a,{textAlign:"center",weight:"bold",size:"xsmall"},e))})),k.a.createElement(x.a,{align:"end",width:"100%",height:"40%",direction:"row",justify:"center"},k.a.createElement(i.a,{size:"small",weight:"bold"},"Sorted by"),k.a.createElement(i.a,{size:"small",weight:"bold",color:"status-warning",margin:{left:"xsmall"}},l.sortBy)))))}var v=a(0),k=a.n(v),x=a(214),j=a(457),n=a(38),C=a.n(n),O=a(75),S=a(65),z=a(462),L=a(454),r=a(461),i=a(455),c=a(456),l=a(453),A=k.a.memo(function(e){var t=e.item,a=e.removeItem;return k.a.createElement(x.a,{pad:"small",height:"27%",round:"small",width:"260px",align:"center",justify:"around",background:"accent-4"},k.a.createElement(x.a,null,k.a.createElement(i.a,{weight:"bold",textAlign:"center",margin:{bottom:"xsmall"}},t.name),k.a.createElement(x.a,{gap:"medium",width:"100%",direction:"row",justify:"center"},k.a.createElement(i.a,{size:"small"},t.categories[0].hasOwnProperty("title")?t.categories[0].title:""))),k.a.createElement(x.a,{gap:"large",width:"100%",direction:"row",justify:"center"},k.a.createElement(x.a,{pad:"small",width:"66px",round:"large",background:{color:"dark-1",opacity:"weak"}},k.a.createElement(c.a,{primary:!0,label:"Info",size:"small",color:"dark-1",target:"_blank",href:t.url,alignSelf:"center"})),k.a.createElement(x.a,{pad:"small",width:"66px",round:"large",background:{color:"status-warning",opacity:"strong"}},k.a.createElement(c.a,{size:"small",label:"Delete",color:"dark-1",alignSelf:"center",onClick:function(){return a()}}))))}),u=a(450);t.a=function(e){var t=e.data,a=e.toggleUi,n=e.isCustom,r=e.location,l=e.randomSorting,i=e.customSearchData,c=e.toggleCustomForm;return k.a.createElement(x.a,{height:"100vh"},k.a.createElement(s,{toggleUi:a,isCustom:n,location:r,customSearchData:i,toggleCustomForm:c}),k.a.createElement(o,{data:t,toggleUi:a,isCustom:n,randomSorting:l,customSearchTerms:i}),k.a.createElement(x.a,{height:"8%",justify:"center"},k.a.createElement("div",{style:{opacity:.2,fontSize:15,fontWeight:"bold",textAlign:"center",alignItems:"center"}},k.a.createElement("a",{style:{textDecoration:"none"},href:"http://www.github.com/pgast"},"</> pgast"))))}},461:function(e,t,a){"use strict";a.d(t,"a",function(){return c});var n=a(0),r=a.n(n),l=a(64);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var c=function(e){return r.a.createElement(l.a,i({viewBox:"0 0 24 24",a11yTitle:"Alert"},e),r.a.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M12,17 L12,19 M12,10 L12,16 M12,3 L2,22 L22,22 L12,3 Z"}))}},462:function(e,t,a){"use strict";a.d(t,"a",function(){return c});var n=a(0),r=a.n(n),l=a(64);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var c=function(e){return r.a.createElement(l.a,i({viewBox:"0 0 24 24",a11yTitle:"Cafeteria"},e),r.a.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M12,1 L12,7.99967027 C12,9.65670662 10.6526091,11 9.00313032,11 L5.99686968,11 C4.34174426,11 3,9.6513555 3,7.99967027 L3,1 M6,7 C6,7 6,6.54902482 6,6.00922203 L6,1 M9,7 C9,7 9,6.54902482 9,6.00922203 L9,1 M6,11 L6,21.5044548 C6,22.3304216 6.66579723,23 7.5,23 L7.5,23 C8.32842712,23 9,22.3204455 9,21.5044548 L9,11 M15,18 L15,21.4998351 C15,22.3283533 15.6657972,23 16.5,23 L16.5,23 C17.3284271,23 18,22.3316845 18,21.4952612 L18,15 C18,15 21,15 21,12 C21,9 21,10 21,7 C21,4 19,2 15,2 C15,2 15,9.99456145 15,18 L15,18 Z"}))}},469:function(e,t,a){"use strict";a.r(t);var i=a(0),c=a.n(i),o=a(458),s=a(45);t.default=function(e){var t=e.location,a=e.toggleUi,n=e.data,r=Object(i.useContext)(s.a).dispatch;Object(i.useEffect)(function(){return l()},[]);var l=function(){return r({type:"FETCH_RANDOM_DATA",payload:t})};return c.a.createElement(o.a,{data:n,randomSorting:!0,isCustom:!1,toggleUi:a,location:t})}}}]);